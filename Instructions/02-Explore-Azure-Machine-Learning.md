---
lab:
  title: 探索 Azure Machine Learning 工作區
---

# 探索 Azure Machine Learning 工作區

Azure Machine Learning 提供資料科學平台來定型和管理機器學習模型。 在此實驗室中，您將建立 Azure Machine Learning 工作區，並探索各種使用工作區的方式。 實驗室旨在介紹 Azure Machine Learning 和開發人員工具的各種核心功能。 如果您想要更深入地了解功能，還有其他實驗室可供探索。

## 在您開始使用 Intune 之前

您將需要具有系統管理層級存取權的 [Azure 訂用帳戶](https://azure.microsoft.com/free?azure-portal=true)。

## 佈建 Azure Machine Learning 工作區

Azure Machine Learning **工作區** 提供一個集中位置，可用來管理您需要定型和管理模型的所有資源和資產。 您可以在 Azure 入口網站中使用互動式介面來佈建工作區，或使用 Azure CLI 搭配 Azure Machine Learning 延伸模組。 在大部分的生產案例中，最好使用 CLI 將佈建自動化，讓您可將資源部署併入可重複的開發與作業 (*DevOps*) 程序。 

在此練習中，您將使用 Azure 入口網站佈建 Azure Machine Learning 以探索所有選項。

1. 登入 `https://portal.azure.com/`。
2. 使用下列設定建立新的 **Azure Machine Learning** 資源：
    - **訂用帳戶**：您的 Azure 訂用帳戶**
    - **資源群組**：`rg-dp100-labs`
    - **工作區名稱**：`mlw-dp100-labs`
    - **區域**：*選取最接近您所在位置的地理區域*
    - **儲存體帳戶**：記下將為您的工作區建立的預設新儲存體帳戶**
    - **金鑰保存庫**：記下將為您的工作區建立的預設新金鑰保存庫**
    - **Application Insights**：記下將為您的工作區建立的預設新 Application Insights 資源**
    - **容器登錄**：無 (在您第一次將模型部署到容器時，系統將會自動建立一個**)
3. 等候工作區及其相關聯的資源建立完成 - 這通常需要大約 5 分鐘的時間。

> **注意**：在建立 Azure Machine Learning 工作區後，您可以使用一些進階選項來限制透過*私人端點*的存取，並指定資料加密的自訂金鑰。 我們不會在此練習中使用這些選項，但請您記得並留意這些選項！

## 探索 Azure Machine Learning 工作室

*Azure Machine Learning 工作室*是一個 Web 型入口網站，您可透過它來存取 Azure Machine Learning 工作區。 您可使用 Azure Machine Learning Studio 來管理工作區內的所有資產和資源。

1. 移至名為 **rg-dp100-labs** 的資源群組。
1. 確認資源群組包含您的 Azure Machine Learning 工作區、Application Insights、Key Vault 和儲存體帳戶。
1. 選取您的 Azure Machine Learning 工作區。
1. 從 [概觀]**** 頁面選取 [啟動工作室]****。 另一個索引標籤會在瀏覽器中開啟，以開啟 Azure Machine Learning 工作室。
1. 關閉任何出現在工作室中的快顯視窗。
1. 請注意工作室左側顯示的不同頁面。 如果功能表中只顯示符號，請選取 &#9776; 圖示以展開功能表，並探索頁面的名稱。
1. 請注意 [撰寫]**** 區段，其中包含 [筆記本]****、[自動化 ML]**** 和 [設計工具]****。 這些是您可以在 Azure Machine Learning 工作室中建立自己的機器學習模型的三種方式。
1. 請注意 [資產]**** 區段，其中包含 [資料]****、[作業]**** 及 [模型]****。 在定型或評分模型時，會取用或建立資產。 資產用於定型、部署及管理您的模型，並可設定版本以追蹤您的歷程記錄。
1. 請注意 [管理]**** 區段，其中包含 [計算]****。 這些是定型或部署機器學習模型所需的基礎結構資源。

## 使用 AutoML 定型模型

若要探索 Azure Machine Learning 工作區中的資產和資源使用方式，讓我們嘗試並定型模型。

使用 AutoML** 選項，快速定型及尋找**工作的最佳模型。

> **注意**：整個過程中可能會出現快顯項目來引導您使用工作室。 您可以關閉並忽略所有快顯項目，並將焦點放在此實驗室的指示。

1. 下載將用於 `https://github.com/MicrosoftLearning/mslearn-azure-ml/raw/refs/heads/main/Labs/02/diabetes-data.zip` 並擷取壓縮檔案的定型數據。
1. 回到 Azure Machine Learning 工作室，從 Studio 左側的功能表中選取 **[AutoML**] 頁面。
1. 選取 **[+ 新增自動化 ML 作業**]。
1. 在 [ **基本設定** ] 步驟中，為您的訓練作業和實驗提供唯一的名稱，或使用指派的預設值。 選取 [下一步]。
1. 在 [工作類型與數據 **] 步驟中，選取 **[** 分類**] 作為工作類型，然後選取 **[+ 建立**] 以新增訓練數據。
2. 在 [ **建立數據資產** ] 頁面上的 **[數據類型** ] 步驟中，為您的數據資產命名（例如 `training-data`），然後選取 [ **下一步**]。
1. 在 **[數據源]** 步驟中，選取 **[從本機檔案** ] 上傳您先前下載的定型數據。 選取 [下一步]。
1. 在 [**目的地記憶體類型**] 步驟中，確認**已選取 Azure Blob 儲存體** 作為數據存放區類型，且**已選取 workspaceblobstore**。 選取 [下一步]。
1. 在 MLTable 選取步驟中 **，選取 **[上傳資料夾**]，然後選取您從稍早下載的壓縮檔擷取**的資料夾。 選取 [下一步]。
1. 檢閱數據資產的設定，然後選取 [ **建立**]。
1. 回到 [ **工作類型與數據] 步驟，選取您剛才上傳的數據** ，然後選取 [ **下一步**]。

> **提示**：您可能需要再次選取 **分類** 工作類型，再移至下一個步驟。

1. 在 [工作設定 **] 步驟中，選取 [****糖尿病][布爾值]** 作為您的目標數據行，然後開啟 [**檢視其他組態設定**] 選項。
1. 在 [ **其他組態** ] 窗格中，將主要計量變更為 **[精確度**]，然後選取 [ **儲存**]。
1. 展開 [ **限制]** 選項並設定下列屬性：
    * **最大試用版**：10
    * **實驗逾時（分鐘）**：60
    * **反覆專案逾時（分鐘）**：15
    * **啟用早期終止**：已核取

1. 針對 [ **測試數據**]，選取 **[定型測試分割** ]，並確認 **數據的** 百分比測試為 10。 選取 [下一步]。
1. 在 [**計算**] 步驟中，確認計算類型為**無**服務，且選取的虛擬機大小Standard_DS3_v2****。 選取 [下一步]。

> **注意**：計算執行個體和叢集是以標準 Azure 虛擬機器映像為基礎。 在此練習中 *，建議使用Standard_DS3_v2* 映射，以達到成本和效能的最佳平衡。 如果您的訂用帳戶具有不包含此映像的配額，請選擇替代映像；但請記得，較大的映像可能會產生較高的成本，而較小的映像可能不足以完成工作。 或者，請要求您的 Azure 系統管理員擴大您的配額。

1. 檢閱您的所有設定，然後選取 [ **提交訓練作業**]。

## 使用作業來檢視您的歷程記錄

提交作業之後，系統會將您重新導向至作業的頁面。 作業可讓您追蹤您執行的工作負載，且彼此比較。 作業屬於**實驗**，可讓您將作業執行分組在一起。 

1. 請注意，在 [概觀 **] 參數中**，您可以找到作業的狀態、建立者、建立作業的時間，以及執行所花費的時間（以及其他專案）。
1. 訓練工作需要 10-20 分鐘才能完成。 完成時，您也可以檢視每個個別元件執行的詳細數據，包括輸出。 您可以隨意探索作業頁面，以瞭解模型的定型方式。

    Azure 機器學習 會自動追蹤作業的屬性。 藉由使用作業，您可以輕鬆地檢視歷程記錄，以瞭解您或同事已完成的工作。
    在實驗期間，作業可協助追蹤您定型的不同模型，以比較和識別最佳模型。 在生產期間，作業可讓您檢查自動化工作負載是否如預期般執行。

## 刪除 Azure 資源

當您完成探索 Azure Machine Learning 時，應該刪除您所建立的資源，以避免產生不必要的 Azure 成本。

1. 關閉 [Azure Machine Learning 工作室] 索引標籤，然後返回 Azure 入口網站。
1. 在 Azure 入口網站的 [首頁]**** 上，選取 [資源群組]****。
1. 選取 **rg-dp100-labs** 資源群組。
1. 在資源群組的 [概觀]**** 頁面頂端，選取 [刪除資源群組]****。
1. 輸入資源群組名稱以確認要刪除，然後選取 [刪除]****。
